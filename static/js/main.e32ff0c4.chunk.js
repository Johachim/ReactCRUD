(this.webpackJsonpreactcrud=this.webpackJsonpreactcrud||[]).push([[0],{27:function(e,t,a){"use strict";a.r(t);var n=a(5),c=a.n(n),r=a(16),s=a.n(r),o=a(15),i=a(8),u=a(10);a(29),a(23),a(28);u.a.initializeApp({apiKey:"AIzaSyDjw4aU33bATYcGf_2ByD9Asc23Vbs8Sbo",authDomain:"react-base-626cd.firebaseapp.com",projectId:"react-base-626cd",storageBucket:"react-base-626cd.appspot.com",messagingSenderId:"979039453640",appId:"1:979039453640:web:043007dc634265a53e80fd",measurementId:"G-1NZS1XJBN2"});var d=u.a.firestore(),l=(u.a.auth(),u.a.storage(),u.a.firestore.FieldValue.serverTimestamp),j=function(e){var t=Object(n.useState)(null),a=Object(i.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(!0),u=Object(i.a)(s,2),l=u[0],j=u[1],b=Object(n.useState)(null),p=Object(i.a)(b,2),f=p[0],O=p[1];return Object(n.useEffect)((function(){d.collection("persons").orderBy("createdAt").onSnapshot((function(e){var t=[];e.docs.forEach((function(e){e.data().createdAt&&t.push(Object(o.a)(Object(o.a)({},e.data()),{},{id:e.id}))})),j(!1),r(t),O(null)}),(function(e){console.log(e.message),r(null),O("could not fetch the data")}))}),[e]),{data:c,isPending:l,error:f}},b=a(11),p=a.n(b),f=a(14),O=function(e){var t=Object(n.useState)(null),a=Object(i.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(null),o=Object(i.a)(s,2),u=o[0],l=o[1],j=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(!0);try{d.collection("persons").add(t)}catch(a){r(a.message)}finally{l(!1)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{error:c,deleteDoc:function(){var t=d.collection("persons").doc(e);try{return t.delete()}catch(a){r(a.message)}},update:function(){var e=Object(f.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t,a),l(!0);try{d.collection("persons").doc(t).update({name:a})}catch(n){r(n.message)}finally{l(!1)}case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),loading:u,add:j}},h=a(3),m=function(e){var t=Object(n.useState)(e.data.name),a=Object(i.a)(t,2),c=a[0],r=a[1],s=O("",e.data.id),o=s.deleteDoc,u=s.update;return Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{value:c,onChange:function(e){r(e.target.value)}}),Object(h.jsx)("button",{onClick:function(){o()},children:"Delete"}),Object(h.jsx)("button",{onClick:function(){u(e.data.id,c)},children:"Edit"})]})},v=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],r=O("").add;return Object(h.jsxs)("div",{children:["ADD: ",Object(h.jsx)("input",{type:"text",value:a,onChange:function(e){c(e.target.value)}}),Object(h.jsx)("button",{onClick:function(){r({name:a,createdAt:l()}),c("")},children:"Create"})]})},g=function(){var e=j("messages"),t=e.error,a=e.isPending,n=e.data;return Object(h.jsxs)("div",{className:"home",children:[Object(h.jsx)(v,{}),Object(h.jsx)("br",{}),t&&Object(h.jsx)("div",{children:t}),a&&Object(h.jsx)("div",{children:"Loading..."}),n&&n.map((function(e,t){return Object(h.jsx)(m,{data:e},t)}))]})};s.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(g,{})}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.e32ff0c4.chunk.js.map